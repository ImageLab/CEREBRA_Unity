%%% LaTeX Template
%%% This template is made for project reports
%%%	You may adjust it to your own needs/purposes
%%%
%%% Copyright: http://www.howtotex.com/
%%% Date: March 2011

%%% Preamble
\documentclass[paper=a4, fontsize=12pt]{scrartcl}	% Article class of KOMA-script with 12pt font and a4 format
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fourier}


\usepackage[english]{babel}		% English language/hyphenation
\usepackage[protrusion=true,expansion=true]{microtype}		% Better typography
\usepackage{amsmath,amsfonts,amsthm}	% Math packages
\usepackage{hyperref}
\hypersetup{colorlinks=true, linkcolor=teal, citecolor=blue, filecolor=blue, urlcolor=teal, pdftitle=Software Requirements Specification, pdfauthor=Simple Labs, pdfsubject=, pdfkeywords=}
\usepackage[pdftex]{graphicx}	% Enable pdflatex
\usepackage{lastpage}
\usepackage{url}
\usepackage{background}
\usepackage{tikz-uml}


%%% Custom sectioning (sectsty package)
\usepackage{sectsty}												% Custom sectioning (see below)
\allsectionsfont{ \normalfont \scshape}	% Change font of al section commands


%%% Custom headers/footers (fancyhdr package)
\usepackage{fancyhdr}
\pagestyle{fancyplain}
\fancyhead[L]{\textsc{METU, Department of Computer Engineering}}					% No page header
\fancyfoot[L]{\textsf{\small Simple Labs}}		% You may remove/edit this line 
\fancyfoot[C]{}													% Empty
\fancyfoot[R]{\thepage\ \footnotesize of \normalsize \getpagerefnumber{LastPage}}									% Pagenumbering
\renewcommand{\headrulewidth}{0pt}			% Remove header underlines
\renewcommand{\footrulewidth}{0pt}				% Remove footer underlines
\setlength{\headheight}{16pt}


%%% Equation and float numbering
\numberwithin{equation}{section}		% Equationnumbering: section.eq#
\numberwithin{figure}{section}			% Figurenumbering: section.fig#
\numberwithin{table}{section}				% Tablenumbering: section.tab#


\newcommand{\skipsection}[0]{\vspace{2cm}}
\newcommand{\skipsubsection}[0]{\vspace{1cm}}

%%% Maketitle metadata
\newcommand{\horrule}[1]{\rule{\linewidth}{#1}} 	% Horizontal rule

\title{
		\vspace{1in} 	
		\usefont{OT1}{bch}{b}{n}
		\horrule{0.5pt} \\[0.4cm]
		\huge Cognitive State Representation and Visualization of Human Brain \\
		\horrule{2pt} \\[0.5cm]
		\Large Software Requirements Specification \\
		\normalfont \normalsize v1.0 \\
		\horrule{0.5pt} \\[0.4cm]
}
\author{
		\normalfont 
		\Large \textsf{Simple Labs}\\[0.5cm] \normalsize
        \hfill Atakan KAYA, 1746114 \\[-3pt]		\normalsize
        \hfill Barış NASIR, 1746288 \\[-3pt]		\normalsize
        \hfill Özlem Ceren ŞAHİN, 1746668 \\[-3pt]		\normalsize
        \hfill Bahattin TOZYILMAZ, 1746395 \\[-3pt]		\normalsize        
}
\date{}




%%% Begin document
\begin{document}
	\backgroundsetup{contents={}}
	\bigskip
	\maketitle
	\begin{center}
		\textbf{October 30, 2013}
	\end{center}
	\thispagestyle{empty}
    \newpage
    
\section*{Preface}
	\paragraph{}
    \normalsize
	This document contains the software requirements specification for the “Cognitive State Representation and Visualization of Human Brain” 
software. The document is prepared according to the “830-1998 IEEE Recommended 
Practice for Software Requirements Specifications. IEEE Computer Society, 1998.”. \\

	This Software Requirements Specification provides a complete description of all the software 
requirements and views of the “Cognitive State Representation and Visualization of Human Brain”. \\

	The first section of this document includes scope and purpose of project and gives 
overall description of it. \\

	The following sections include detailed description and requirements of the project. \\

	\newpage
    \begin{center}
    	\Large Revision History \\
    \end{center}
    \normalsize
	\begin{tabular}{|p{1.2cm}|p{2cm}|p{3cm}|p{1.2cm}|p{7cm}|}
    	\hline
        	Version & Date & Changed & A/D/M & Brief description \\
  		\hline
        	1.0 & 30 Oct 2013 & - & - & Initial version \\
  		\hline
	 \end{tabular}

	\newpage\backgroundsetup{contents={}}
	\begin{otherlanguage}{english}
		\tableofcontents
	\end{otherlanguage}
	\newpage
	\backgroundsetup{
		scale=10,
		angle=45,
		opacity=0.06,
		color=black,
		contents=\textsc{Simple Labs}
	}
    
	
	\section{Introduction}
    \paragraph{}
    \normalsize
    This document is a software design description for a representation and visualization of cognitive state of human brain project. In this document, firstly we are going to define the problem and introduce the purpose and the scope of this document. Secondly, we are going to give an overall description. After these steps, we are going to  state specific requirements, data models and behavioral models with their descriptions consecutively. 
Finally, we are going to present our planning, team structure, basic schedule and process model.\\

	\skipsubsection
 
	\subsection{Problem Definition}
		\paragraph{}
        \normalsize
		Developing ways to study mental representations has been a long-standing and intriguing challenge to computer scientists. MVPA is a very
		recent approach that few researchers have implemented in neuroimaging research. MVPA uses machine learning algorithms to train on fMRI
		data, and can be used to classify the type of information being processed or cognitive operation that is being carried out, based on
		distributed patterns of neural activity in the brain. In its current state, MVPA is a very advanced and promising approach that can
		enable researchers to answer questions about cognitive operations and brain function that could not be assessed with other approaches.
		However, given its recent nature, the algorithms researchers use for MVPA has much room to improve. In this project, we propose an
		interdisciplinary collaboration that aims to fill this gap in the literature. Specifically, we propose several fMRI studies, whereby
		the feasibility of the current machine learning algorithms in the literature can be tested, and the algorithm with maximum
		performance can be identified. With this approach, via seeking out the machine learning approach that can best describe neural
		activity in the brain associated with cognitive processes, our aim is to build a model, called Local Voxel Networks that can be
		used to classify neural activity assessed by fMRI during cognitive operations. The suggested approach has three main steps:\\
		\begin{quote}
		\textit{Step 1:} Acquiring the fMRI data from experiments

		\textit{Step 2:} Enhancing the fMRI data by image preprocessing techniques to prepare for MVPA techniques

		\textit{Step 3:} Developping a new model for fMRI image and comparing it to the available techniques\\
        \end{quote}
        
        Above, there is the definition of "Tubitak Project 112E315" which is in process at the Image Processing and Pattern Recognition Laboratory of Computer Engineering Department, Middle East Technical University. During our senior project, we are going to be part of this project. Since it is a huge project and there is time limitations, our focus is going to be implementing the 2nd step of the aforementioned study only.\\
        
    \skipsubsection
        
	\subsection{Purpose} 
    \paragraph{}
    \normalsize
    This Software Design Description document is defining the detailed description of the architecture, functionalities and specifications of the project. This document is going to serve as a guideline for both the development team and the users. \\
    
    Since more than one version of this document are going to be released, there may be modifications to adapt changes of requirements and specifications of the project. \\
    
    The target audience of this project is mostly academicians and medical institutes. Cognitive state representaion and visualization of human brain is fundamentally important in neuroanatomy, neurodevelopment, cognitive neuroscience and neuropsychology. \\
    
    Additionally, as stated in the project proposal, physicians can benefit from this tool to assess how risky brain surgery or similar invasive treatment is for a patient and to learn how a normal,
diseased or injured brain is functioning. They can map the brain with this
tool to identify regions linked to critical functions such as speaking, moving,
sensing, or planning. This is useful to plan for surgery and radiation therapy
of the brain. Clinicians also can benefit from this to anatomically map the
brain and detect the efects of tumors, stroke, head and brain injury, or
diseases such as alzheimer's. \\

	\skipsubsection

	\subsection{Scope}
    	\paragraph{}
        \normalsize
        This projects final product is a high-end desktop/compute cluster application, named "Cognitive State Representation and Visualization of Human Brain". The software is responsible for analysis and visualization of fMRI data.\\ 
        
        Cognitive neuroscience is an emerging area or study. These studies aim to understand how human brain actually works. However, brain imaging tools generate data that is generally too big for a human to analyze. The product will be used in cognitive neuroscience studies to present this data in a more understandable manner. Software will first read brain imaging data, and then analyze it to see connections, merge closely connected components and visualize the data so that it is easy to inspect and see connections.\\\\
        
        This project will be done by 4 people in 2 semesters.\\
        
    \skipsubsection 
        
	\subsection{Definitions, Acronyms, and Abbreviations}
   	 \begin{tabular}{|p{3cm}|p{12cm}|}
     	\hline 
  			3D & 3 Dimensional \\
        \hline
  			FC & Functional Connectivity \\
     	\hline
  			fMRI & functional Magnetic Resonance Imaging \\
        \hline
  			GLU & OpenGL Utility Library \\
        \hline
  			GLUT & OpenGL Utility Toolkit \\
        \hline
  			GPU &  Graphichs Processing Unit \\   
  		\hline
  			IEEE & Institute of Electrical and Electronics Engineers \\
        \hline
  			METU & Middle East Technical University \\
  		\hline
  			MVPA & MultiVoxel Pattern Analysis \\
        \hline
  			OpengGL & Open Graphics Library \\
        \hline
  			RAM & Random Access Memory \\
  		\hline
        	UML & Unified Modeling Language \\
  		\hline
	 \end{tabular}
	\subsection{References}
    	\begin{enumerate}
        \item IEEE Std 830-1998 IEEE Recommended Practice for Software Requirements Specifications. IEEE Computer Society, 1998.
        \item \url{http://neuro.ceng.metu.edu.tr/}
        \item \url{http://en.wikipedia.org/wiki/Functional magnetic resonance imaging#Clinical use/} 
        \item \url{http://ecomcanada.wordpress.com/2011/12/06/agile-development-using-scrum/}
        \item Marchesi, Michele and Mannaro, Katiuscia and Uras, Selene and Locci, Mario, (2007). 'Distributed Scrum in Research Project Management'. In: Concas, Giulio and Damiani, Ernesto and Scotto, Marco and Succi, Giancarlo (ed), Agile Processes in Software Engineering and Extreme Programming. Springer Berlin Heidelberg. pp.240-244. 
         \end{enumerate}
         
    \skipsubsection
    
	\subsection{Overview}
    \paragraph{}
    \normalsize
    The following chapters of this system design description document includes six major topics. Firstly, overall description is describes the product perspective, product functions, constraints and dependencies. In the next chapter, specific requirements are identified. After that data model and behavioral model are given in consecutive chapters. Finally planning and estimated schedule is stated. Document is ended with a conclusion.
    
		
	\newpage
	\section{Overall Description}
            
    \skipsubsection 
        
	\subsection{Product Perspective}
	\subsubsection{System Interfaces}
    \paragraph{}
    The system developed will need to read brain scan(fMRI) data, convert these scanned data to brain regions and analyze this regions. To achieve this with best modularity, we plan to decouple these subsystems. So there will be an input subsytem, an analysis subsystem and a visualization subsystem; all of them connected  via well defined data interfaces.\\
   
	\subsubsection{Hardware Interfaces}
    \paragraph{}
    The process needed for visualizing the human brain data is computationally expensive. The project needs a compute cluster or a high end processor. Again, memory demand is high. Visualization part also needs an OpenGL capable graphics card. Also, some calculations may be sideloaded to GPU, so a good graphics card will benefit the project.\\
    
    
	\subsubsection{Memory}
    \paragraph{}
    The project uses input data in the range of gigabytes. This data has to be read once and converted to a more compact format, maybe compressed in the process.\\
    
    Assuming $80,000$ nodes and a $80,000\times80,000$ adjacency matrix, the software needs at least $80,000\times80,000\times sizeof(int)$ memory for one frame of data. That is $25,600,000,000$ bytes for the best case, nearly 24 gigabytes of continuous data.\\
    
    For secondary storage purposes, the project has much more challenging requirements. A typical dataset contains 30 or more frames. So, a single dataset takes up 720 gigabytes of data with an {\em uncompressed} file format.\\


            
    \skipsubsection 
        
	\subsection{Constraints}
    \paragraph{}
    First and foremost constraint is the use of C++ language. While C++ is the defacto language for developing performance critic applications, there are languages, namely MATLAB, better suited for scientific computation.\\
    
    As stated before, the project is being developed for a research lab. Thus the project will be developed to run on Linux systems, preferably a high performance computing distribution. The other constraint, usage of OpenGL becomes problematic at this stage. Most OpenGL drivers for Linux operating system are sub-par with Windows counterparts.\\
    
    Apart from stated two constraints, there are no other constraints for this project.\\
            
    \skipsubsection 
        
	\subsection{Assumptions and Dependencies}
	\paragraph{}
    First of all, the project assumes that the host computer will have enough RAM to load a single frame and enough secondary storage capacity to store whole file in a single disk. Also, it is assumed that host computer(or the client) will have a graphics card with OpenGL capabilities.\\
    
    There are open-source projects on similiar fields of research. They have a great potential for code reuse. However, most of these projects are written in Python or Matlab languages. Consequentially, they use Matlab file formats.\\
    
    The project is expected to be mostly self contained, using libraries that already exist in the development environment client uses. Project team will try to minimize external dependencies. OpenGL/GLU/GLUT trio will definitively be used. For the aforementioned reason, the project will also depend on a library for Matlab interoperability.\\
    
    Other assumptions can be listed as:\\
    
    \begin{quote}
    - A linux environment
    
    - Working OpenGL/GLU/GLUT libraries
    
    - Preferably an OpenCL capable GPU or a High Performance Computing cluster
    \end{quote}
    
	\newpage
	\section{Specific Requirements}
    
            
    \skipsubsection 
    
	\subsection{Functional Requirements}        
	\subsubsection{User Use Cases}

    
    \begin{center}
	\begin{tikzpicture}
      \begin{umlsystem}{Cognitive State Representation and Visualization of Human Brain} 
      	\umlusecase[x=10, y=-6]{Load File} 
        \umlusecase[x=10, y=-4.5]{Zoom In and Out}
        \umlusecase[x=10, y=-3]{Rotate}
        \umlusecase[x=10, y=-1.5]{Four Regions}
        \umlusecase[x=10, y=0]{Show Side-by-Side}
        \umlusecase[x=10, y=1.5]{Configure Colors}
        \umlusecase[x=10, y=3]{Transparency Adjustment}
        \umlusecase[x=10, y=4.5]{Change Voxel Size}
        \umlusecase[x=10, y=6]{Layer Depth Adjustment}
      \end{umlsystem} 
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-1}  
      \umlassoc{actor}{usecase-2}  
      \umlassoc{actor}{usecase-3}  
      \umlassoc{actor}{usecase-4}  
      \umlassoc{actor}{usecase-5}  
      \umlassoc{actor}{usecase-6}  
      \umlassoc{actor}{usecase-7}  
      \umlassoc{actor}{usecase-8}
      \umlassoc{actor}{usecase-9}  
	\end{tikzpicture}
    \end{center}
    
    

    \begin{center}
    \end{center}
    \subsubsection{Use Case UC01: Load File}
      
    \begin{center}
	\begin{tikzpicture}
      	\umlusecase[x=6, y=0]{Load File} 
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-10}   
	\end{tikzpicture}
    \end{center}
    
    
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & The user loads the data taken from fMRI machine.\\ \hline
                    \textbf{Trigger} & The user presses the "Load File" button.\\ \hline
                    \textbf{Basic Path} & 1. The user presses "Load File" button.\\
                    & 2. The user chooses the data to be analyzed.\\
                    & 3. 3D image of the choosen data is shown to the user.\\
                    \hline
                    \textbf{Alternative Paths} & None\\ \hline
                    \textbf{Post-Condition} & 3D image of the choosen data is shown to the user.\\ \hline
                    \textbf{Other} & None\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \subsubsection{Use Case UC02: Zoom In and Out}
     \begin{center}
	\begin{tikzpicture}
      
      	\umlusecase[x=6, y=0]{Zoom In and Out} 
      
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-10}   
	\end{tikzpicture}
    \end{center}
    
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & The user can zoom in and zoom out to 3D image of the brain.\\ \hline
                    \textbf{Trigger} & The user presses either "Zoom In" or "Zoom Out" buttons\\ \hline
                    \textbf{Basic Path} & 1. The user presses zoom in (zoom out) button.\\
                    & 2. Zoom inned (zoom outed) image of the brain is shown to the user.\\\hline
                    \textbf{Alternative Paths} & 1. The user wheels up (down) the mouse for zoom in (zoom out).\\ \hline
                    \textbf{Post-Condition} & Zoom inned (zoom outed) image of the brain is shown to the user.\\ \hline
                    \textbf{Other} & The tool does not allow the user to zoom in or zoom out infinitely.\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \subsubsection{Use Case UC03: Rotation}
    \begin{center}
      \begin{tikzpicture}
          \umlusecase[x=5, y=0]{Rotate} 
        
        \umlactor[x=0, y=0, scale=2]{actor} 
        
        \umlassoc{actor}{usecase-10}   
      \end{tikzpicture}
     \end{center}
    
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & The user can rotate the image 360 degree around it's center to any direction.\\ \hline
                    \textbf{Trigger} & The user presses the "Rotate" button to activate rotation.\\ \hline
                    \textbf{Basic Path} & 1. The user presses the "Rotate" button to activate rotation.\\
                    & 2. The user clicks (left click) anywhere on the image and drags the mouse to any direction that she/he wants.\\
                    & 3. The rotated image is shown to the user as she/he drags the mouse.\\
                    & 4. The user releases the left click when wanted angle is captured.\\ \hline
                    \textbf{Alternative Paths} & None\\ \hline
                    \textbf{Post-Condition} & The rotated image is shown to the user.\\ \hline
                    \textbf{Other} & None\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \subsubsection{Use Case UC04: Four Regions}
    \begin{center}
	\begin{tikzpicture}
      	\umlusecase[x=6, y=0]{Four Regions} 
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-10}   
	\end{tikzpicture}
    \end{center}
    
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & The user can do selection between four brain lobes. Only the selected lobes will be visible.\\ \hline
                    \textbf{Trigger} & The user presses the "Lobe Selection" button.\\ \hline
                    \textbf{Basic Path} & 1. The user presses the "Lobe Selection" button.\\
                    & 2. A popup window appears. It contains 4 main lobes (frontial, parietal, temporal, occipital) of brain.\\
                    & 3. The user does her/his selection.\\
                    & 4. The popup window is disappeared and only the selected lobe is appeared on tool.\\ \hline
                    \textbf{Alternative Paths} & None\\ \hline
                    \textbf{Post-Condition} & The popup window that contains lobes of brain.\\ \hline
                    \textbf{Other} & None\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \subsubsection{Use Case UC05: Show Side-by-Side}
    \begin{center}
	\begin{tikzpicture}
      	\umlusecase[x=6, y=0]{Show Side-by-Side} 
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-10}   
	\end{tikzpicture}
    \end{center}
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & With this feature, the user can see the brain from different sides in one window.\\ \hline
                    \textbf{Trigger} & The user clicks the "Side by Side" button.\\ \hline
                    \textbf{Basic Path} & 1. The user clicks the "Side by Side" button.\\ \hline
                    \textbf{Alternative Paths} & None\\ \hline
                    \textbf{Post-Condition} & The window is divided into six pieces to show the image from different views, namely, front, left, right, rear, up and bottom.\\ \hline
                    \textbf{Other} & None\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \subsubsection{Use Case UC06: Configure Colors}
    \begin{center}
	\begin{tikzpicture}
      	\umlusecase[x=6, y=0]{Configure Colors} 
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-10}   
	\end{tikzpicture}
    \end{center}
    
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & Changes color distribution for color blinds.\\ \hline
                    \textbf{Trigger} & The user clicks the "Change Color Distribution" button.\\ \hline
                    \textbf{Basic Path} & 1. The user clicks the "Change Color Distribution" button.\\ \hline
                    \textbf{Alternative Paths} & None\\ \hline
                    \textbf{Post-Condition} & Color distribution is rearrenged according to color blinds.\\ \hline
                    \textbf{Other} & None\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \subsubsection{Use Case UC07: Transparency Adjustment}
    \begin{center}
	\begin{tikzpicture}
      	\umlusecase[x=6, y=0]{Transparency Adjustment} 
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-10}   
	\end{tikzpicture}
    \end{center}
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & Changes transparentcy of the voxels so deeper layers can be seen.\\ \hline
                    \textbf{Trigger} & The user changes "Transparency" slider.\\ \hline
                    \textbf{Basic Path} & 1. The user changes "Transparency" slider.\\ \hline
                    \textbf{Alternative Paths} & None\\ \hline
                    \textbf{Post-Condition} & The transparency of voxels is changed.\\ \hline
                    \textbf{Other} & None\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \subsubsection{Use Case UC08: Change Voxel Size}
    \begin{center}
	\begin{tikzpicture}
      	\umlusecase[x=6, y=0]{Change Voxel Size} 
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-10}   
	\end{tikzpicture}
    \end{center}
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & Changes unit size of voxels in case size is miscalulated.\\ \hline
                    \textbf{Trigger} & The user changes "Voxel size" slider.\\ \hline
                    \textbf{Basic Path} & 1. The user changes "Voxel size" slider.\\ \hline
                    \textbf{Alternative Paths} & None\\ \hline
                    \textbf{Post-Condition} & Voxel size is changed.\\ \hline
                    \textbf{Other} & None\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \subsubsection{Use Case UC09: Layer Depth Adjustment}
     \begin{center}
	\begin{tikzpicture}
      	\umlusecase[x=6, y=0]{Layer Depth Adjustment} 
      
      \umlactor[x=0, y=0, scale=2]{actor} 
      
      \umlassoc{actor}{usecase-10}   
	\end{tikzpicture}
    \end{center}
    	\begin{center}
        	\begin{tabular}{ | p{4cm} | p{9cm} |}
            	\hline
                	\textbf{Actor} & User\\ \hline
                    \textbf{Description} & Allows user to view inner layers of brain.\\ \hline
                    \textbf{Trigger} & The user adjusts the "Layer Depth" slider.\\ \hline
                    \textbf{Basic Path} & 1. The user changes the value of the slider by moving the cursor right or left.\\ \hline
                    \textbf{Alternative Paths} & 1. The user clicks left (right) button located on the left (right) side of the slider.\\ \hline
                    \textbf{Post-Condition} & Inner layer or outer layer is shown to the user according to the user's input.\\ \hline
                    \textbf{Other} & None\\
                \hline
            \end{tabular}
        \end{center}
    \skipsubsection
    
    \skipsubsection 
        
	\subsection{Non-Functional Requirements}
	\subsubsection{Performance Requirements}
    \paragraph{}
    \normalsize
    As we mentioned in the project proposal, dealing with large data causes some performance issues. The data contains chunk of voxels and our aim is connecting related voxels.
    Functional Connectivity (FC) is the statistical dependence between remote neural elements or regions across time. FC consist of two main steps:\\
    \begin{quote}
    \textit{1.} Find correlation between two voxels' time series using a correlation metric.\\
    \textit{2.} Construct correlation matrix (connectivity matrix) by using each pairs' correlation response.\\
    \end{quote}
    \paragraph{}
    However, connectivity matrices are expensive in voxel level. For example, if we have 8142 voxels in our data set then we will have approximately 33 million functional relations. If number of voxels reaches 82926 then we will have 3428 million functional relations. Then, suppose computation time of each functional connectivity metric takes approximately one second. For the input that contains 8142 voxels, total computation time reaches up to 383 days (with 256-way perfect parallelization it will take 1.5 days). Even 8000x8000 sized correlation matrix is expensive where our domain spans approximately 80000 voxels and their relations. To handle this problem we will apply GPU parallelization for speed-up and reformulate correlation metric for GPU. Also, we will use C++ and OpenGL where other products and projects are using MathLAB.\\
    
	\subsubsection{Design Constraints}
    \paragraph{}
    During the development of the project, we will mostly use our own computers. However because of the nature of the complexity of the brain, we are going to work with huge data. Therefore time by time, our computers and processors may not be enough to evaluate and process the data and when necessary we are going to have access to the computers in Image Processing Laboratory at Computer Engineering Departmant of METU.\\
    
    The fMRI data is going to be provided by Prof. Dr. Fatoş Yarman Vural and during evaluation of the data Connectome and BrainNet Viewer are going to be used to create a background for this project. Final 3D image which will be shown in the graphical user interface is going to be obtained by using openGL. During the development of the project C++ is going to be used as progrmming language. \\
    
    Additionaly UML standards will be used for the diagrams and IEEE standards will be used for the reports.\\

	\newpage
	\section{Data Model and Description}
            
    \skipsubsection 
        
	\subsection{Data Description}
	\subsubsection{Data Objects}
    \begin{center}
    \begin{tikzpicture} 
      \umlclass{fMRI} 
      { 
       
       }{ 
        + getConnectomeOutput(voxelList: <Voxel>) : <Voxel> \\ 
        + getNetViewerOutput(voxelList: <Voxel>) : <Voxel> \\
        } 
       
      \umlclass[x=10,y=0]{openGLvariable} 
       { 
        - intensity : float \\    
        }{ 
        } 
       
      \umlclass[x=0,y=-8]{Voxel}
       {  
        - id : int \\ 
        }{ 
        + getTopVisual() : openGLvariable \\
       + getFrontVisual() : openGLvariable \\
       + getLeftVisual() : openGLvariable \\
       + getRightVisual() : openGLvariable \\
       + getCoordinates() : Vector3 \\
       + getId() : int \\
        
        } 
       
      \umlclass[x=10,y=-8]{Vector3}
        { 
        - x : int \\
        - y : int \\
        - z : int \\
        }{ 
        + getX() : int \\
        + getY() : int \\
        + getZ() : int \\
        + dotProduct(v : Vector3) : float \\
        + crossProducy(v : Vector3) : Vector3 \\
        
        } 
      
      
      \umluniaggreg[arg2=voxelList,mult2=0..*,pos2=0.2]{fMRI}{Voxel} 
      \umluniaggreg[arg2=coordinates,mult2=1,pos2=0.7]{Voxel}{Vector3}
      \umluniaggreg[arg2=arc,mult2=2,pos2=0.9]{openGLvariable}{Voxel}
     \umluniaggreg[arg2=coordinates,mult2=1,pos2=0.9]{openGLvariable}{Vector3}
      
    \end{tikzpicture}
    \end{center}
    
    

	\newpage
	\section{Behavioral Model and Desc.}
            
    \skipsubsection 
        
	\subsection{Description for Software Behavior}
    \paragraph{}
    The projects workflow is pretty simple. It follows this simple pattern:
    \begin{quote}
    	1. Read data
        
        2. Process data for visualization
        
        3. Draw data
    \end{quote}
    
    When the program opens, it should check whether command line contains any options or input files. If they exist, the program should make necessary changes and/or load the input file. User can cancel the action and close the program at this stage.\\
    
    Program may or may not support loading from different file formats, e.g: Matlab file format, CSV format or plaintext formats. Readers for all these formats will be written and produce output in the same structure. When users selects a file, program will begin loading the data. This process can be interrupted and paused.\\
    
    After data is loaded, program will begin processing data. Processed data may be saved for caching purposes, since the processing part will be the most burdensome computation that will be done by the program. In the process, raw data will be compressed by lossy techniques, resulting nodes will be cross checked for any potential corelations. When this process is done, data will be converted to brain coordinates. This process can be paused or cancelled.\\
    
    Visualization part is the next step. Brain coordinates will be converted to physical coordinates and shown on the screen. This may seem like a simple task, but user can still change settings at this stage. For example, voxel size may be changed, requiring all triangles to be reset.\\
    
    \skipsubsection 
    \newpage 
	\subsection{State Transition Diagrams}
    \paragraph{}

    \begin{center}
	\begin{tikzpicture}
		\begin{umlstate}[name=Amain]{Application}
			\begin{umlstate}[name=Bgraph, fill=red!20]{Worker thread}
				\umlstateinitial[name=Binit]
				\umlbasicstate[y=-3, name=test1, fill=white]{Wait for input file}
				\umltrans{Binit}{test1}
				\umlbasicstate[y=-8, name=test2, fill=white]{Analyze}
				\umltrans[arg={Load file}]{test1}{test2}
				\umlstatefinal[x=3, y=-7.68, name=Bfinal]
				\umltrans{test2}{Bfinal}
			\end{umlstate}
			\umlstateinitial[x=6, y=1, name=Ainit]
			\umlVHtrans[anchor2=40]{Ainit}{Bgraph}
			\umlstatefinal[x=6, y=-3.5, name=Afinal]
			\umlHVtrans[anchor1=30, arg={Exit Button}]{Bgraph}{Afinal}
			\umlbasicstate[x=6, y=-6, name=visu, fill=green!20]{Visualisation}
			\umlHVtrans{Bfinal}{visu}
			\umltrans[arg={Exit Button}]{visu}{Afinal}
			\umltrans[recursive=-20|-60|2.5cm, recursive direction=right to bottom, arg={Change setting}, pos=2.5]{visu}{visu}
		\end{umlstate}
	\end{tikzpicture}
	\end{center}
    
	\newpage
	\section{Planning}
            
    \skipsubsection 
        
	\subsection{Team Structure}
    	Prof. Dr. Faroş Yarman Vural - Project Advisor\\
        Dr. Atilla Özgit - Advisor\\
        Mehmet Çelik - Advisor\\
        Özlem Ceren Şahin - Researcher, Developer\\
        Bahattin Tozyılmaz - Researcher, Developer\\
        Atakan Kaya - Researcher, Developer\\
        Barış Nasır - Researcher, Developer\\
        
            
    \skipsubsection 
        
	\subsection{Estimation (Basic Schedule)}
    \paragraph{}
    The project is planned to be finished by June 2014. There will be 4 revisions. At each revision, the program will become more usable and bug-free.\\
    
    At first revision, project is planned to run on clients system and have basic input capabilities. Output will probably be via text console.\\
    
    At second revision, OpenGL rendering will be implemented. Input data will be processed to see corelations. Interoperability with other open source projects is a focus.\\
    
    Third and fourth revisions will be focused based on client feedback.\\
            
    \skipsubsection 
        
	\subsection{Process Model}
    \paragraph{}
	One of the most important thing when developing a software product is to decide on a methodology conforming the needs and the requirements of the project. In this section, these software development methodologies will be briefly discussed and both the advantages and the disadvantages of them will be compared and finally the chosen methodology for this project will be further explained. \\

The most straightforward methodology is "Waterfall". It is known as the traditional approach to software development. In this method, the phases are conducted for one time and should be done correctly as going back is seen very rare. For instance, the planning will be performed in the very beginning of the project and re-planning will not be possible when the team goes on to the next phase, thus this requires a thorough understanding of the project as a whole and foreseeing the possible obstacles on the way. \\

Waterfall methodology might be the best choice for small-scale projects that include only a few deliverables. However, as the tasks get more complex, reviewing the phases will be inevitable. Moreover, the tasks should be prioritized to meet the time and resource constraints. Consequently, waterfall methodology would be highly risky as since it would prevent to realize the value of the project and leave the testing until the very end and may not handle any requirements change on the way. \\

At this point, agile software development comes into question since it welcomes changing requirements, yields sustainable development and working software is the principal measure of the progress. One of the most well-practiced process models is called Scrum which is an iterative and incremental agile software development framework. The comparison of Waterfall and Scrum frameworks can be seen in Figure \ref{fig:comparison}.\\


\begin{figure}[h]
\centering
\includegraphics[scale=0.23]{comparision.png}
\caption{Comparison of Waterfall and Scrum.}
\label{fig:comparison}
\end{figure}


It is essential to question whether Scrum is appropriate for a research project since it is originally created for development projects. For this, understanding the nature of our project is vital. None of this project's actions, practices or techniques are simple or repeatable, its predictability is limited and it is difficult to control. The activities may require constant changes in directions, new tasks may be added or it may face unforeseen and challenging issues. In other words, our project is an "empirical" process that cannot be well defined and uncertainty is inevitable. Marchesi et al. suggests Scrum for the management of the projects that has these properties.\\

As it is stated by Marchesi et al., Scrum has three roles, three ceremonies, and three artifacts. The roles defined by the Scrum framework are Product Owner, Scrum Master and Scrum Team. The Product Owner will have the control of the whole project, and will ensure that the artifacts delivered by the process are in line with the research project aims and the required deliverables. Obviously, Prof. Dr. Faroş Yarman Vural will have this role. Scrum Master is the person who is responsible for enforcing the rules of the process and ensuring that the process is used as intended. The responsible for this role will be one of the team members, Bahattin Tozyılmaz. Finally, the Scrum Team is defined as the anyone who is involved in the realization of this project. \\

The three ceremonies are defined as Sprint Planning, Sprint Review, and Daily Scrum Meeting. In the beginning of the sprints, our team will hold a Sprint Planning session, after that, we will work on the requirements of the sprint by supporting them with Scrum Meetings and finally we will review the sprint. Sprints will roughly cover a month; however, Scrum Meetings will not be held daily since all the team members are under tight schedule for their other work. \\

Finally, the three artifacts are called Product Backlog, Sprint Backlog, and Burndown Chart. The Project Backlog is a prioritized list of project requirements with estimated times to turn them into parts of project deliverables and/or completed system functionality and the Sprint Backlog a list of tasks that defines the team's work for each Sprint. We will record our work activities to the Burndown Charts in order to estimate the time that will be required by the remaining work and to see the whole picture about our project. \\
	
    \newpage
	\section{Conclusion}
		\paragraph{}
        \normalsize
        This Software Requirement Specification document is prepared to give requirement details of the project "Cognitive State Representation and Visualization of Human Brain". Tool's description and functionalities are specified with some details. Interaction between the user and system is defined. Scheduling timeline and task sharing between team members are arranged. Also, technologies to be used and additional researches to be done are understood by team members.\\
%	\section{Supporting information}

%%% End document
\end{document}